<script type="text/javascript">
        var gk_isXlsx = false;
        var gk_xlsxFileLookup = {};
        var gk_fileData = {};
        function filledCell(cell) {
          return cell !== '' && cell != null;
        }
        function loadFileData(filename) {
        if (gk_isXlsx && gk_xlsxFileLookup[filename]) {
            try {
                var workbook = XLSX.read(gk_fileData[filename], { type: 'base64' });
                var firstSheetName = workbook.SheetNames[0];
                var worksheet = workbook.Sheets[firstSheetName];

                // Convert sheet to JSON to filter blank rows
                var jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1, blankrows: false, defval: '' });
                // Filter out blank rows (rows where all cells are empty, null, or undefined)
                var filteredData = jsonData.filter(row => row.some(filledCell));

                // Heuristic to find the header row by ignoring rows with fewer filled cells than the next row
                var headerRowIndex = filteredData.findIndex((row, index) =>
                  row.filter(filledCell).length >= filteredData[index + 1]?.filter(filledCell).length
                );
                // Fallback
                if (headerRowIndex === -1 || headerRowIndex > 25) {
                  headerRowIndex = 0;
                }

                // Convert filtered JSON back to CSV
                var csv = XLSX.utils.aoa_to_sheet(filteredData.slice(headerRowIndex)); // Create a new sheet from filtered array of arrays
                csv = XLSX.utils.sheet_to_csv(csv, { header: 1 });
                return csv;
            } catch (e) {
                console.error(e);
                return "";
            }
        }
        return gk_fileData[filename] || "";
        }
        </script><!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Flawless Watersports: Premier jetski and yacht rentals in Miami. Book luxury jetskis ($150/hr) or bespoke yacht charters online!">
    <meta name="keywords" content="Miami jetski rental, luxury yacht charter Miami, Flawless Watersports, water sports, boat rentals">
    <title>Flawless Watersports | Luxury Jet Ski & Yacht Rentals in Miami</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-XXXXXXXXXX');
    </script>
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "LocalBusiness",
        "name": "Flawless Watersports",
        "description": "Luxury jetski and yacht rentals in Miami, Florida",
        "url": "https://username.github.io/flawlesswatersports",
        "telephone": "+13057978114",
        "address": {
            "@type": "PostalAddress",
            "addressLocality": "Miami",
            "addressRegion": "FL",
            "postalCode": "33139",
            "addressCountry": "US"
        },
        "geo": {
            "@type": "GeoCoordinates",
            "latitude": 25.777777,
            "longitude": -80.141888
        },
        "openingHours": "Mo-Su 08:00-22:00"
    }
    </script>
    <style>
        :root {
            --aqua-blue: #00C4B4;
            --sunny-yellow: #FFD700;
            --coral-red: #FF6B6B;
            --dark-gray: #1F2937;
        }
        .bg-aqua-blue { background-color: var(--aqua-blue); }
        .text-aqua-blue { color: var(--aqua-blue); }
        .bg-sunny-yellow { background-color: var(--sunny-yellow); }
        .text-sunny-yellow { color: var(--sunny-yellow); }
        .bg-coral-red { background-color: var(--coral-red); }
        .text-coral-red { color: var(--coral-red); }
        .bg-dark-gray { background-color: var(--dark-gray); }
        .text-dark-gray { color: var(--dark-gray); }
        .book-now-btn, .contact-btn, .view-yachts-btn {
            transition: transform 0.2s, background-color 0.3s;
            font-weight: bold;
            padding: 1rem 2rem;
            font-size: 1.1rem;
            min-height: 48px;
            min-width: 120px;
        }
        .book-now-btn:hover, .contact-btn:hover, .view-yachts-btn:hover {
            transform: scale(1.05);
            background-color: var(--coral-red);
            color: white;
        }
        .gallery-img {
            transition: transform 0.3s;
            object-fit: cover;
            width: 100%;
            height: 200px;
        }
        .gallery-img:hover {
            transform: scale(1.03);
        }
        #active-viewers {
            position: fixed;
            bottom: 80px;
            right: 20px;
            background-color: var(--coral-red);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            font-size: 0.85rem;
            z-index: 50;
        }
        .hero-section {
            position: relative;
            overflow: hidden;
            background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5));
        }
        .hero-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            background-image: url('https://images.unsplash.com/photo-1624544196719-b73f90c6f0bb?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80');
            animation: slide 30s infinite;
            z-index: -1;
        }
        @keyframes slide {
            0% { background-image: url('https://images.unsplash.com/photo-1624544196719-b73f90c6f0bb?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80'); opacity: 1; }
            8.33% { background-image: url('https://images.unsplash.com/photo-1624544196719-b73f90c6f0bb?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80'); opacity: 0; }
            10% { background-image: url('https://images.pexels.com/photos/12834938/pexels-photo-12834938.jpeg?auto=compress&cs=tinysrgb&w=1920'); opacity: 1; }
            18.33% { background-image: url('https://images.pexels.com/photos/12834938/pexels-photo-12834938.jpeg?auto=compress&cs=tinysrgb&w=1920'); opacity: 0; }
            20% { background-image: url('https://images.unsplash.com/photo-1567899378494-47b22a2ae96a?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80'); opacity: 1; }
            28.33% { background-image: url('https://images.unsplash.com/photo-1567899378494-47b22a2ae96a?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80'); opacity: 0; }
            30% { background-image: url('https://images.pexels.com/photos/1007092/pexels-photo-1007092.jpeg?auto=compress&cs=tinysrgb&w=1920'); opacity: 1; }
            38.33% { background-image: url('https://images.pexels.com/photos/1007092/pexels-photo-1007092.jpeg?auto=compress&cs=tinysrgb&w=1920'); opacity: 0; }
            40% { background-image: url('https://images.unsplash.com/photo-1598972898439-2d5cd4f3c7a8?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80'); opacity: 1; }
            48.33% { background-image: url('https://images.unsplash.com/photo-1598972898439-2d5cd4f3c7a8?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80'); opacity: 0; }
            50% { background-image: url('https://images.pexels.com/photos/13275929/pexels-photo-13275929.jpeg?auto=compress&cs=tinysrgb&w=1920'); opacity: 1; }
            58.33% { background-image: url('https://images.pexels.com/photos/13275929/pexels-photo-13275929.jpeg?auto=compress&cs=tinysrgb&w=1920'); opacity: 0; }
            60% { background-image: url('https://images.unsplash.com/photo-1625314897518-b13973512586?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80'); opacity: 1; }
            68.33% { background-image: url('https://images.unsplash.com/photo-1625314897518-b13973512586?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80'); opacity: 0; }
            70% { background-image: url('https://images.pexels.com/photos/1268871/pexels-photo-1268871.jpeg?auto=compress&cs=tinysrgb&w=1920'); opacity: 1; }
            78.33% { background-image: url('https://images.pexels.com/photos/1268871/pexels-photo-1268871.jpeg?auto=compress&cs=tinysrgb&w=1920'); opacity: 0; }
            80% { background-image: url('https://images.unsplash.com/photo-1580638339978-5a583b6f2583?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80'); opacity: 1; }
            88.33% { background-image: url('https://images.unsplash.com/photo-1580638339978-5a583b6f2583?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80'); opacity: 0; }
            90% { background-image: url('https://images.pexels.com/photos/843633/pexels-photo-843633.jpeg?auto=compress&cs=tinysrgb&w=1920'); opacity: 1; }
            98.33% { background-image: url('https://images.pexels.com/photos/843633/pexels-photo-843633.jpeg?auto=compress&cs=tinysrgb&w=1920'); opacity: 0; }
            100% { background-image: url('https://images.unsplash.com/photo-1624544196719-b73f90c6f0bb?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80'); opacity: 1; }
        }
        .hero-bg { animation: slide 30s infinite; }
        .hero-content { position: relative; z-index: 1; }
        .flatpickr-input {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #e5e7eb;
            border-radius: 0.5rem;
            background-color: white;
            font-size: 1rem;
            min-height: 48px;
        }
        #chatbot-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 300px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            display: none;
            flex-direction: column;
            z-index: 100;
            transition: all 0.3s ease;
        }
        #chatbot-header {
            background-color: var(--aqua-blue);
            color: white;
            padding: 10px;
            border-radius: 12px 12px 0 0;
            font-weight: bold;
            text-align: center;
            font-size: 1rem;
        }
        #chatbot-messages {
            flex-grow: 1;
            padding: 10px;
            overflow-y: auto;
            max-height: 250px;
            background-color: #f9fafb;
        }
        #chatbot-input {
            width: 100%;
            padding: 10px;
            border: none;
            border-top: 1px solid #e5e7eb;
            outline: none;
            font-size: 0.9rem;
            min-height: 48px;
        }
        #chatbot-footer {
            padding: 8px 10px;
            border-top: 1px solid #e5e7eb;
            background-color: #fff;
            border-radius: 0 0 12px 12px;
        }
        .chatbot-exit-btn {
            background-color: var(--coral-red);
            color: white;
            padding: 8px 16px;
            border-radius: 8px;
            font-size: 0.9rem;
            font-weight: bold;
            cursor: pointer;
            width: 100%;
            text-align: center;
            transition: background-color 0.2s;
            min-height: 48px;
        }
        .chatbot-exit-btn:hover {
            background-color: #e55a5a;
        }
        #chatbot-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: var(--coral-red);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            z-index: 100;
        }
        .chatbot-message {
            margin-bottom: 8px;
            padding: 8px 12px;
            border-radius: 8px;
            font-size: 0.9rem;
            line-height: 1.4;
        }
        .user-message {
            background-color: var(--sunny-yellow);
            margin-left: 20%;
            text-align: right;
        }
        .bot-message {
            background-color: var(--aqua-blue);
            color: white;
            margin-right: 20%;
        }
        #yacht-modal, #payment-modal, #booking-modal, #terms-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 100;
            align-items: center;
            justify-content: center;
        }
        #yacht-modal-content, #payment-modal-content, #booking-modal-content, #terms-modal-content {
            background-color: white;
            border-radius: 12px;
            max-width: 800px;
            width: 95%;
            max-height: 85vh;
            overflow-y: auto;
            padding: 15px;
        }
        .yacht-card {
            transition: transform 0.2s;
            cursor: pointer;
        }
        .yacht-card:hover {
            transform: scale(1.02);
        }
        .yacht-card.selected {
            border: 3px solid var(--aqua-blue);
            background-color: rgba(0, 196, 180, 0.1);
        }
        #countdown-timer, #jetski-countdown-timer {
            font-size: 1.3rem;
            font-weight: bold;
            color: var(--coral-red);
        }
        .faq-item {
            cursor: pointer;
            padding: 0.8rem;
            border-bottom: 1px solid #e5e7eb;
        }
        .faq-answer {
            display: none;
            padding: 0.5rem 0.8rem;
            font-size: 0.9rem;
        }
        .faq-item.active .faq-answer {
            display: block;
        }
        .reviews-carousel {
            position: relative;
            overflow: hidden;
            width: 100%;
        }
        .reviews-container {
            display: flex;
            transition: transform 0.5s ease;
        }
        .review-card {
            flex: 0 0 33.33%;
            padding: 0 10px;
            box-sizing: border-box;
        }
        .review-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background-color: var(--aqua-blue);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 10;
            font-size: 1.2rem;
        }
        .review-nav-left {
            left: 10px;
        }
        .review-nav-right {
            right: 10px;
        }
        .guest-favorite {
            display: inline-block;
            background-color: #fef9c3;
            color: #854d0e;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.85rem;
            font-weight: 500;
            margin-top: 0.5rem;
        }
        @media (max-width: 640px) {
            .book-now-btn, .contact-btn, .view-yachts-btn {
                padding: 0.8rem 1.5rem;
                font-size: 1rem;
                min-height: 48px;
                min-width: 100px;
            }
            #yacht-modal-content, #payment-modal-content, #booking-modal-content, #terms-modal-content {
                width: 98%;
                max-height: 90vh;
                padding: 10px;
            }
            .gallery-img {
                height: 150px;
            }
            .review-card {
                flex: 0 0 100%;
            }
            .reviews-container {
                transform: translateX(0) !important;
            }
            .review-nav {
                width: 36px;
                height: 36px;
                font-size: 1rem;
            }
            #chatbot-container {
                width: 90%;
                bottom: 10px;
                right: 10px;
            }
            #chatbot-messages {
                max-height: 200px;
            }
            #chatbot-header {
                font-size: 0.9rem;
                padding: 8px;
            }
            #chatbot-input {
                font-size: 0.85rem;
                padding: 8px;
                min-height: 44px;
            }
            .chatbot-message {
                font-size: 0.85rem;
                padding: 6px 10px;
            }
            .chatbot-exit-btn {
                font-size: 0.85rem;
                padding: 6px 12px;
                min-height: 44px;
            }
            #chatbot-toggle {
                width: 48px;
                height: 48px;
                font-size: 1.2rem;
            }
            #active-viewers {
                bottom: 70px;
                right: 10px;
                font-size: 0.8rem;
                padding: 6px 12px;
            }
            .hero-section h1 {
                font-size: 2.5rem;
            }
            .hero-section p {
                font-size: 1rem;
                max-width: 90%;
            }
            .hero-section .flex {
                flex-direction: column;
                gap: 1rem;
            }
            section h2 {
                font-size: 1.8rem;
            }
            section p {
                font-size: 0.9rem;
            }
            .faq-item h4 {
                font-size: 1rem;
            }
            form label, form input, form textarea, form button {
                font-size: 0.9rem;
            }
            form input, form textarea, form button {
                padding: 0.6rem;
                min-height: 44px;
            }
            footer p, footer a {
                font-size: 0.85rem;
            }
            footer svg {
                width: 20px;
                height: 20px;
            }
            .hero-bg {
                background-size: contain;
                animation: slide-mobile 15s infinite;
            }
            @keyframes slide-mobile {
                0% { background-image: url('https://images.unsplash.com/photo-1624544196719-b73f90c6f0bb?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80'); opacity: 1; }
                18% { background-image: url('https://images.unsplash.com/photo-1624544196719-b73f90c6f0bb?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80'); opacity: 0; }
                20% { background-image: url('https://images.pexels.com/photos/12834938/pexels-photo-12834938.jpeg?auto=compress&cs=tinysrgb&w=1920'); opacity: 1; }
                38% { background-image: url('https://images.pexels.com/photos/12834938/pexels-photo-12834938.jpeg?auto=compress&cs=tinysrgb&w=1920'); opacity: 0; }
                40% { background-image: url('https://images.unsplash.com/photo-1567899378494-47b22a2ae96a?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80'); opacity: 1; }
                58% { background-image: url('https://images.unsplash.com/photo-1567899378494-47b22a2ae96a?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80'); opacity: 0; }
                60% { background-image: url('https://images.pexels.com/photos/1007092/pexels-photo-1007092.jpeg?auto=compress&cs=tinysrgb&w=1920'); opacity: 1; }
                78% { background-image: url('https://images.pexels.com/photos/1007092/pexels-photo-1007092.jpeg?auto=compress&cs=tinysrgb&w=1920'); opacity: 0; }
                80% { background-image: url('https://images.unsplash.com/photo-1598972898439-2d5cd4f3c7a8?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80'); opacity: 1; }
                98% { background-image: url('https://images.unsplash.com/photo-1598972898439-2d5cd4f3c7a8?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80'); opacity: 0; }
                100% { background-image: url('https://images.unsplash.com/photo-1624544196719-b73f90c6f0bb?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80'); opacity: 1; }
            }
        }
    </style>
</head>
<body class="bg-white font-sans">
    <header class="bg-dark-gray text-white py-4 sticky top-0 z-10">
        <div class="container mx-auto px-4 flex justify-between items-center">
            <h1 class="text-2xl font-bold">Flawless Watersports</h1>
            <nav>
                <ul class="flex space-x-6">
                    <li><a href="#home" class="hover:text-aqua-blue">Home</a></li>
                    <li><a href="#book" class="hover:text-aqua-blue">Book Now</a></li>
                    <li><a href="#location" class="hover:text-aqua-blue">Location</a></li>
                    <li><a href="#partner" class="hover:text-aqua-blue">Partner</a></li>
                    <li><a href="#contact" class="hover:text-aqua-blue">Contact</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <section id="home" class="hero-section py-24 text-center text-white">
        <div class="hero-bg"></div>
        <div class="hero-content container mx-auto px-4">
            <h1 class="text-5xl font-bold mb-4">Unleash Luxury with Flawless Watersports</h1>
            <p class="text-xl mb-6 max-w-2xl mx-auto">
                Experience Miami’s waters with premium jetski and yacht rentals. Book your luxury adventure today!
            </p>
            <div class="flex justify-center space-x-4">
                <a href="#book" class="bg-sunny-yellow text-dark-gray px-8 py-4 rounded-lg text-lg font-bold hover:bg-coral-red hover:text-white">Book Now</a>
                <a href="tel:3057978114" class="contact-btn bg-aqua-blue text-white px-8 py-4 rounded-lg text-lg font-bold">Call or Text Us</a>
            </div>
        </div>
    </section>

    <section id="book" class="py-16 bg-gray-100">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold text-center text-dark-gray mb-8">Reserve Your Luxury Experience</h2>
            <p class="text-center text-dark-gray mb-6 max-w-2xl mx-auto">
                Call 305-797-8114 for real-time availability.
            </p>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto">
                <div class="p-6 bg-white rounded-lg shadow-lg text-center border-2 border-aqua-blue">
                    <h3 class="text-xl font-bold text-aqua-blue mb-2">Jetski</h3>
                    <span class="guest-favorite" aria-label="Guest Favorite: Jetski is our most popular booking option">Guest Favorite</span>
                    <p class="text-dark-gray mb-2">$150/hr</p>
                    <input type="text" id="jetski-datetime" placeholder="Select Date & Time" class="mb-4 flatpickr-input">
                    <p id="jetski-price" class="text-dark-gray mb-4">Total: $150 for 1 hour</p>
                    <button onclick="openPaymentModal('Jetski', 'jetski-datetime')" class="book-now-btn bg-sunny-yellow text-dark-gray px-6 py-3 rounded-lg w-full">Book Now</button>
                </div>
                <div class="p-6 bg-white rounded-lg shadow-lg text-center border-2 border-aqua-blue">
                    <h3 class="text-xl font-bold text-aqua-blue mb-2">Small Yacht (20+ ft)</h3>
                    <p class="text-dark-gray mb-2">Contact us for pricing</p>
                    <input type="text" id="small-yacht-datetime" placeholder="Select Date & Time" class="mb-4 flatpickr-input">
                    <p id="small-yacht-price" class="text-dark-gray mb-4">Contact us for pricing</p>
                    <button onclick="openYachtModal('small')" class="view-yachts-btn bg-aqua-blue text-white px-6 py-3 rounded-lg w-full mb-2">View Yachts</button>
                    <button onclick="bookYacht('small', 'small-yacht-datetime')" class="book-now-btn bg-sunny-yellow text-dark-gray px-6 py-3 rounded-lg w-full">Book Now</button>
                </div>
                <div class="p-6 bg-white rounded-lg shadow-lg text-center border-2 border-aqua-blue">
                    <h3 class="text-xl font-bold text-aqua-blue mb-2">Luxury Yacht (50+ ft)</h3>
                    <p class="text-dark-gray mb-2">Contact us for pricing</p>
                    <input type="text" id="luxury-yacht-datetime" placeholder="Select Date & Time" class="mb-4 flatpickr-input">
                    <p id="luxury-yacht-price" class="text-dark-gray mb-4">Contact us for pricing</p>
                    <button onclick="openYachtModal('luxury')" class="view-yachts-btn bg-aqua-blue text-white px-6 py-3 rounded-lg w-full mb-2">View Yachts</button>
                    <button onclick="bookYacht('luxury', 'luxury-yacht-datetime')" class="book-now-btn bg-sunny-yellow text-dark-gray px-6 py-3 rounded-lg w-full">Book Now</button>
                </div>
            </div>
        </div>
    </section>

    <div id="yacht-modal">
        <div id="yacht-modal-content">
            <h2 id="modal-title" class="text-2xl font-bold text-dark-gray mb-4"></h2>
            <div id="yacht-list" class="grid grid-cols-1 sm:grid-cols-2 gap-4"></div>
            <button onclick="closeYachtModal()" class="mt-4 bg-coral-red text-white px-6 py-3 rounded-lg w-full">Close</button>
        </div>
    </div>

    <div id="payment-modal">
        <div id="payment-modal-content">
            <h2 class="text-2xl font-bold text-dark-gray mb-4">Complete Your Jetski Booking</h2>
            <p class="text-dark-gray mb-4">Hurry! Your slot is reserved for: <span id="jetski-countdown-timer">10:00</span></p>
            <p class="text-dark-gray mb-4">
                <span class="text-coral-red font-bold">Send $150</span> via one of the methods below. 
                <span class="text-coral-red font-bold">Include your booking date/time in the memo</span>. 
                We’ll <span class="text-coral-red font-bold">confirm via email within 24 hours</span>.
            </p>
            <ul class="text-dark-gray mb-4">
                <li><strong>Zelle</strong>: <a href="mailto:flawlesswatersports@gmail.com">flawlesswatersports@gmail.com</a> or 305-797-8114</li>
                <li><strong>CashApp</strong>: $FlawlessWatersports</li>
                <li><strong>PayPal</strong>: Coming Soon</li>
            </ul>
            <button onclick="submitJetskiBooking()" class="bg-sunny-yellow text-dark-gray px-6 py-3 rounded-lg w-full mb-2 hover:bg-coral-red hover:text-white">I’ve Sent Payment</button>
            <button onclick="closePaymentModal()" class="bg-coral-red text-white px-6 py-3 rounded-lg w-full">Cancel</button>
        </div>
    </div>

    <div id="booking-modal">
        <div id="booking-modal-content">
            <h2 class="text-2xl font-bold text-dark-gray mb-4">Confirm Your Yacht Booking</h2>
            <p id="booking-details" class="text-dark-gray mb-4"></p>
            <p class="text-dark-gray mb-4">Hurry! Your slot is reserved for: <span id="countdown-timer">10:00</span></p>
            <button onclick="submitYachtBooking()" class="bg-sunny-yellow text-dark-gray px-6 py-3 rounded-lg w-full mb-2 hover:bg-coral-red hover:text-white">Submit to Reserve</button>
            <button onclick="closeBookingModal()" class="bg-coral-red text-white px-6 py-3 rounded-lg w-full">Cancel</button>
        </div>
    </div>

    <div id="terms-modal">
        <div id="terms-modal-content">
            <h2 class="text-2xl font-bold text-dark-gray mb-4">Terms and Conditions</h2>
            <div class="text-dark-gray mb-4">
                <h3 class="text-lg font-bold text-aqua-blue mb-2">1. Booking and Cancellation</h3>
                <p>To reserve a jetski or yacht, select your preferred date, time, and vessel, then complete payment as instructed. Jetski bookings require a $150/hour fee, while yacht pricing is provided post-selection. Cancellations made at least 48 hours prior receive a full refund. Weather-related cancellations, as determined by Flawless Watersports, qualify for a full refund or rescheduling. No-shows or late cancellations forfeit payment.</p>

                <h3 class="text-lg font-bold text-aqua-blue mb-2">2. Safety and Regulations</h3>
                <p>Jetski operators born after January 1, 1988, must hold a Florida Boater Safety ID (FWC, 2025). The minimum age to operate is 16, and 14 to ride with a guardian. Life jackets are mandatory and provided. Yachts are operated by USCG-licensed captains, with a maximum of 12 passengers per Florida law. Customers must adhere to no-wake zones (5 mph within 200 ft of shore) and DUI regulations (0.08% BAC limit on water). Alcohol consumption is prohibited during jetski operation.</p>

                <h3 class="text-lg font-bold text-aqua-blue mb-2">3. Liability</h3>
                <p>Customers assume all risks of personal injury, property damage, or loss during rentals. Flawless Watersports is not liable for accidents, injuries, or damages resulting from customer negligence or failure to follow safety instructions. All vessels are insured, but customers are responsible for damages caused by misuse, such as collisions or grounding. A liability waiver is required before rental.</p>

                <h3 class="text-lg font-bold text-aqua-blue mb-2">4. Payments</h3>
                <p>Payments must be made via Zelle (<a href="mailto:flawlesswatersports@gmail.com">flawlesswatersports@gmail.com</a> or 305-797-8114), CashApp ($FlawlessWatersports), PayPal, or cash on-site. Include your booking date and time in the payment memo to ensure proper processing. Failure to complete payment within 24 hours of booking confirmation may result in cancellation.</p>

                <h3 class="text-lg font-bold text-aqua-blue mb-2">5. Partnership Terms</h3>
                <p>Vessel owners partnering with Flawless Watersports must provide insured, USCG-compliant jetskis or yachts. We manage marketing and bookings, offering owners competitive compensation via Zelle, CashApp, or other methods within 48 hours post-rental. Owners are responsible for vessel maintenance and fuel costs.</p>

                <h3 class="text-lg font-bold text-aqua-blue mb-2">6. Governing Law</h3>
                <p>These terms are governed by Florida law. Disputes will be resolved in Miami-Dade County courts. Flawless Watersports may update these terms without notice. For questions, contact <a href="mailto:flawlesswatersports@gmail.com">flawlesswatersports@gmail.com</a> or 305-797-8114.</p>
            </div>
            <button onclick="closeTermsModal()" class="bg-coral-red text-white px-6 py-3 rounded-lg w-full">Close</button>
        </div>
    </div>

    <section id="testimonials" class="py-16 bg-white">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold text-center text-dark-gray mb-8">What Our Clients Say</h2>
            <div class="reviews-carousel">
                <div class="review-nav review-nav-left" onclick="moveCarousel(-1)">❮</div>
                <div class="review-nav review-nav-right" onclick="moveCarousel(1)">❯</div>
                <div class="reviews-container" id="reviews-container">
                    <div class="review-card">
                        <div class="p-6 bg-gray-100 rounded-lg shadow-md text-center">
                            <p class="text-dark-gray mb-4">"Captain John was amazing! The yacht was pristine, and the sunset views were unforgettable."</p>
                            <p class="font-bold text-aqua-blue">– Emily R., Miami</p>
                        </div>
                    </div>
                    <div class="review-card">
                        <div class="p-6 bg-gray-100 rounded-lg shadow-md text-center">
                            <p class="text-dark-gray mb-4">"The jetski rental was a blast! Clear instructions and top-notch equipment."</p>
                            <p class="font-bold text-aqua-blue">– Michael S., Fort Lauderdale</p>
                        </div>
                    </div>
                    <div class="review-card">
                        <div class="p-6 bg-gray-100 rounded-lg shadow-md text-center">
                            <p class="text-dark-gray mb-4">"Booked a small yacht for a family outing. The crew was professional and made us feel at home."</p>
                            <p class="font-bold text-aqua-blue">– Sofia G., Key Biscayne</p>
                        </div>
                    </div>
                    <div class="review-card">
                        <div class="p-6 bg-gray-100 rounded-lg shadow-md text-center">
                            <p class="text-dark-gray mb-4">"Best water sports experience in Miami! Quick booking and friendly staff."</p>
                            <p class="font-bold text-aqua-blue">– David L., Coral Gables</p>
                        </div>
                    </div>
                    <div class="review-card">
                        <div class="p-6 bg-gray-100 rounded-lg shadow-md text-center">
                            <p class="text-dark-gray mb-4">"The jetski ride was thrilling! Perfect for adrenaline junkies."</p>
                            <p class="font-bold text-aqua-blue">– Liam T., Aventura</p>
                        </div>
                    </div>
                    <div class="review-card">
                        <div class="p-6 bg-gray-100 rounded-lg shadow-md text-center">
                            <p class="text-dark-gray mb-4">"Our yacht charter was luxurious and seamless. Highly recommend!"</p>
                            <p class="font-bold text-aqua-blue">– Olivia P., South Beach</p>
                        </div>
                    </div>
                    <div class="review-card">
                        <div class="p-6 bg-gray-100 rounded-lg shadow-md text-center">
                            <p class="text-dark-gray mb-4">"Amazing service! The jetski was in perfect condition, and the staff was super helpful."</p>
                            <p class="font-bold text-aqua-blue">– Ethan M., Dade County</p>
                        </div>
                    </div>
                    <div class="review-card">
                        <div class="p-6 bg-gray-100 rounded-lg shadow-md text-center">
                            <p class="text-dark-gray mb-4">"The yacht experience was top-tier. Great for a special occasion!"</p>
                            <p class="font-bold text-aqua-blue">– Isabella C., Brickell</p>
                        </div>
                    </div>
                    <div class="review-card">
                        <div class="p-6 bg-gray-100 rounded-lg shadow-md text-center">
                            <p class="text-dark-gray mb-4">"Loved the jetski adventure! Booking was easy, and the team was professional."</p>
                            <p class="font-bold text-aqua-blue">– Noah B., Sunny Isles</p>
                        </div>
                    </div>
                    <div class="review-card">
                        <div class="p-6 bg-gray-100 rounded-lg shadow-md text-center">
                            <p class="text-dark-gray mb-4">"The small yacht was perfect for our group. Stunning views and great service!"</p>
                            <p class="font-bold text-aqua-blue">– Ava D., Coconut Grove</p>
                        </div>
                    </div>
                </div>
            </div>
            <p class="text-center text-dark-gray mt-4">See more on <a href="https://www.instagram.com/flawlesswatersports" class="underline">@flawlesswatersports</a>.</p>
        </div>
    </section>

    <section id="location" class="py-16 bg-gray-100">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold text-center text-dark-gray mb-8">Our Miami Location</h2>
            <p class="text-center text-dark-gray mb-6 max-w-2xl mx-auto">
                Rentals depart from Miami Beach Marina or nearby locations. Exact pickup details provided post-booking. Call 305-797-8114 for inquiries.
            </p>
            <div class="max-w-3xl mx-auto">
                <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3592.923264571551!2d-80.141888684955!3d25.777777983628!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x88d9b4b7c1a3b7b7%3A0x8c7f3b3b7e6f7f7!2sMiami%20Beach%20Marina!5e0!3m2!1sen!2sus!4v1666655555555" width="100%" height="400" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
            </div>
        </div>
    </section>

    <section id="partner" class="py-16 bg-gray-100">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold text-center text-dark-gray mb-8">Join Our Premier Network</h2>
            <p class="text-center text-dark-gray mb-6 max-w-2xl mx-auto">
                Own a jetski or yacht? Partner with us to reach luxury clients. We handle marketing and bookings, paying you via Zelle, CashApp, or other methods after each rental.
            </p>
            <div class="flex justify-center space-x-4">
                <a href="#contact" class="bg-sunny-yellow text-dark-gray px-8 py-4 rounded-lg text-lg font-bold hover:bg-coral-red hover:text-white">Contact Us</a>
                <a href="tel:3057978114" class="contact-btn bg-aqua-blue text-white px-8 py-4 rounded-lg text-lg font-bold">Call or Text Us</a>
            </div>
        </div>
    </section>

    <section id="contact" class="py-16 bg-gray-100">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold text-center text-dark-gray mb-8">Connect with Us</h2>
            <p class="text-center text-dark-gray mb-6">Questions or inquiries? Call or text 305-797-8114, or submit below. We respond via <a href="mailto:flawlesswatersports@gmail.com">flawlesswatersports@gmail.com</a> with instant confirmation.</p>
            <div class="max-w-3xl mx-auto mb-12">
                <h3 class="text-2xl font-bold text-dark-gray mb-4">Frequently Asked Questions</h3>
                <div class="faq-item">
                    <h4 class="text-lg font-bold text-aqua-blue">What’s included in a jetski rental?</h4>
                    <div class="faq-answer text-dark-gray">Fuel, safety gear, and a brief orientation.</div>
                </div>
                <div class="faq-item">
                    <h4 class="text-lg font-bold text-aqua-blue">How do I book a yacht?</h4>
                    <div class="faq-answer text-dark-gray">Select a yacht and date/time, then submit the form or call 305-797-8114 within 10 minutes to reserve. Pricing is provided post-booking.</div>
                </div>
                <div class="faq-item">
                    <h4 class="text-lg font-bold text-aqua-blue">What’s your cancellation policy?</h4>
                    <div class="faq-answer text-dark-gray">Cancel 48 hours in advance for a full refund. Contact us for details.</div>
                </div>
                <div class="faq-item">
                    <h4 class="text-lg font-bold text-aqua-blue">Are your vessels safe?</h4>
                    <div class="faq-answer text-dark-gray">All vessels are insured, regularly maintained, and operated by licensed captains for yachts. Life jackets provided.</div>
                </div>
                <div class="faq-item">
                    <h4 class="text-lg font-bold text-aqua-blue">What payment methods are accepted?</h4>
                    <div class="faq-answer text-dark-gray">Zelle (<a href="mailto:flawlesswatersports@gmail.com">flawlesswatersports@gmail.com</a> or 305-797-8114), CashApp ($FlawlessWatersports), PayPal, or cash on-site.</div>
                </div>
                <div class="faq-item">
                    <h4 class="text-lg font-bold text-aqua-blue">Do I Need a License?</h4>
                    <div class="faq-answer text-dark-gray">Florida requires a Boater Safety ID for those born after Jan 1, 1988 (FWC, 2025). Minimum age: 16 to operate, 14 to ride with a guardian.</div>
                </div>
            </div>
            <form id="contact-form" class="max-w-lg mx-auto space-y-4">
                <label class="block">
                    Your Name:
                    <input type="text" name="name" placeholder="Your Name" class="w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-aqua-blue" required>
                </label>
                <label class="block">
                    Your Email:
                    <input type="email" name="email" placeholder="Your Email" class="w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-aqua-blue" required>
                </label>
                <label class="block">
                    Your Message:
                    <textarea name="message" placeholder="Your Message" rows="5" class="w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-aqua-blue" required></textarea>
                </label>
                <input type="hidden" name="_subject" value="New Booking Inquiry">
                <button type="submit" class="bg-sunny-yellow text-dark-gray px-6 py-3 rounded-lg w-full font-bold hover:bg-coral-red hover:text-white">Send Inquiry</button>
            </form>
            <p id="form-confirmation" class="text-center text-dark-gray mt-4 hidden">
                Thank you! Your inquiry has been submitted. Please check your email (including spam/junk folder) for an auto-response confirmation. If not received, call 305-797-8114.
            </p>
        </div>
    </section>

    <footer class="bg-dark-gray text-white py-6">
        <div class="container mx-auto px-4 text-center">
            <p>© 2025 Flawless Watersports. All rights reserved.</p>
            <p class contrast: "mailto:flawlesswatersports@gmail.com">flawlesswatersports@gmail.com</a> | <a href="tel:3057978114" class="underline">305-797-8114</a> | <a href="sms:3057978114" class="underline">Text Us</a> | <a onclick="openTermsModal()" class="underline cursor-pointer">Terms</a></p>
            <p class="mt-2">Trusted by 500+ Customers</p>
            <div class="flex justify-center space-x-4 mt-4">
                <span class="flex items-center">
                    <svg class="w-6 h-6 mr-2 text-aqua-blue" aria-label="Insured Vessels Icon" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                    </svg>
                    Insured Vessels
                </span>
                <span class="flex items-center">
                    <svg class="w-6 h-6 mr-2 text-aqua-blue" aria-label="Secure Payments Icon" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                    </svg>
                    Secure Payments
                </span>
                <span class="flex items-center">
                    <svg class="w-6 h-6 mr-2 text-aqua-blue" aria-label="Guaranteed Satisfaction Icon" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                    </svg>
                    Guaranteed Satisfaction
                </span>
            </div>
        </div>
    </footer>

    <div id="active-viewers" class="hidden">0 viewing now</div>

    <div id="chatbot-toggle" onclick="toggleChatbot()">💬</div>
    <div id="chatbot-container">
        <div id="chatbot-header">Chat with Us</div>
        <div id="chatbot-messages"></div>
        <input type="text" id="chatbot-input" placeholder="Type your question..." onkeypress="if(event.key === 'Enter') sendMessage()">
        <div id="chatbot-footer">
            <button class="chatbot-exit-btn" onclick="exitChatbot()">Exit Chat</button>
        </div>
    </div>

    <script>
        // Initialize EmailJS with your Public Key
        (function(){
            emailjs.init({ publicKey: "T9_YT3uGB753l-FQo" });
        })();

        // Preload hero images
        const heroImages = [
            'https://images.unsplash.com/photo-1624544196719-b73f90c6f0bb?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80',
            'https://images.pexels.com/photos/12834938/pexels-photo-12834938.jpeg?auto=compress&cs=tinysrgb&w=1920',
            'https://images.unsplash.com/photo-1567899378494-47b22a2ae96a?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80',
            'https://images.pexels.com/photos/1007092/pexels-photo-1007092.jpeg?auto=compress&cs=tinysrgb&w=1920',
            'https://images.unsplash.com/photo-1598972898439-2d5cd4f3c7a8?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80',
            'https://images.pexels.com/photos/13275929/pexels-photo-13275929.jpeg?auto=compress&cs=tinysrgb&w=1920',
            'https://images.unsplash.com/photo-1625314897518-b13973512586?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80',
            'https://images.pexels.com/photos/1268871/pexels-photo-1268871.jpeg?auto=compress&cs=tinysrgb&w=1920',
            'https://images.unsplash.com/photo-1580638339978-5a583b6f2583?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80',
            'https://images.pexels.com/photos/843633/pexels-photo-843633.jpeg?auto=compress&cs=tinysrgb&w=1920'
        ];
        heroImages.forEach(src => {
            const img = new Image();
            img.src = src;
        });

        // Flatpickr initialization
        flatpickr("#jetski-datetime", {
            enableTime: true,
            dateFormat: "Y-m-d H:i",
            minDate: "today",
            defaultHour: 8,
            minTime: "08:00",
            maxTime: "22:00",
            onChange: function(selectedDates, dateStr) {
                const hours = prompt("How many hours? (1-4)", "1");
                if (hours && !isNaN(hours) && hours >= 1 && hours <= 4) {
                    const total = 150 * hours;
                    document.getElementById("jetski-price").textContent = `Total: $${total} for ${hours} hour${hours > 1 ? 's' : ''}`;
                }
            }
        });
        flatpickr("#small-yacht-datetime", { enableTime: true, dateFormat: "Y-m-d H:i", minDate: "today", defaultHour: 8, minTime: "08:00", maxTime: "22:00" });
        flatpickr("#luxury-yacht-datetime", { enableTime: true, dateFormat: "Y-m-d H:i", minDate: "today", defaultHour: 8, minTime: "08:00", maxTime: "22:00" });

        // Modal functions
        function openYachtModal(type) {
            const modal = document.getElementById("yacht-modal");
            const title = document.getElementById("modal-title");
            const yachtList = document.getElementById("yacht-list");
            title.textContent = type === 'small' ? "Small Yachts (20+ ft)" : "Luxury Yachts (50+ ft)";
            yachtList.innerHTML = type === 'small' ?
                `<div class="yacht-card p-4 bg-gray-100 rounded-lg" onclick="selectYacht('Sea Breeze')"><img src="https://images.unsplash.com/photo-1580638339978-5a583b6f2583?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" alt="Small Yacht" class="w-full h-40 object-cover rounded-lg mb-2"><h3 class="text-lg font-bold">Sea Breeze</h3><p>25 ft, 8 guests</p><p>Contact for pricing</p></div>
                 <div class="yacht-card p-4 bg-gray-100 rounded-lg" onclick="selectYacht('Ocean Star')"><img src="https://images.pexels.com/photos/843633/pexels-photo-843633.jpeg?auto=compress&cs=tinysrgb&w=800" alt="Small Yacht" class="w-full h-40 object-cover rounded-lg mb-2"><h3 class="text-lg font-bold">Ocean Star</h3><p>30 ft, 10 guests</p><p>Contact for pricing</p></div>` :
                `<div class="yacht-card p-4 bg-gray-100 rounded-lg" onclick="selectYacht('Majestic')"><img src="https://images.unsplash.com/photo-1567899378494-47b22a2ae96a?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" alt="Luxury Yacht" class="w-full h-40 object-cover rounded-lg mb-2"><h3 class="text-lg font-bold">Majestic</h3><p>60 ft, 12 guests</p><p>Contact for pricing</p></div>
                 <div class="yacht-card p-4 bg-gray-100 rounded-lg" onclick="selectYacht('Royal Wave')"><img src="https://images.pexels.com/photos/1007092/pexels-photo-1007092.jpeg?auto=compress&cs=tinysrgb&w=800" alt="Luxury Yacht" class="w-full h-40 object-cover rounded-lg mb-2"><h3 class="text-lg font-bold">Royal Wave</h3><p>70 ft, 12 guests</p><p>Contact for pricing</p></div>`;
            modal.style.display = "flex";
        }

        function selectYacht(yachtName) {
            const yachtCards = document.querySelectorAll('.yacht-card');
            yachtCards.forEach(card => {
                card.classList.remove('selected');
            });
            const selectedCard = Array.from(yachtCards).find(card => card.querySelector('h3').textContent === yachtName);
            if (selectedCard) {
                selectedCard.classList.add('selected');
                console.log(`Selected yacht: ${yachtName}`);
            }
        }

        function closeYachtModal() {
            document.getElementById("yacht-modal").style.display = "none";
        }

        let jetskiCountdown;
        function openPaymentModal(type, inputId) {
            const datetime = document.getElementById(inputId).value;
            if (!datetime) {
                alert("Please select a date and time.");
                return;
            }
            const modal = document.getElementById("payment-modal");
            modal.style.display = "flex";
            startCountdown("jetski-countdown-timer", 10 * 60);
        }

        function closePaymentModal() {
            document.getElementById("payment-modal").style.display = "none";
            clearInterval(jetskiCountdown);
        }

        let yachtCountdown;
        function bookYacht(type, inputId) {
            const datetime = document.getElementById(inputId).value;
            if (!datetime) {
                alert("Please select a date and time.");
                return;
            }
            const modal = document.getElementById("booking-modal");
            const details = document.getElementById("booking-details");
            details.textContent = `Booking ${type === 'small' ? 'Small Yacht (20+ ft)' : 'Luxury Yacht (50+ ft)'} for ${datetime}. Please call 305-797-8114 to confirm pricing and availability.`;
            modal.style.display = "flex";
            startCountdown("countdown-timer", 10 * 60);
        }

        function closeBookingModal() {
            document.getElementById("booking-modal").style.display = "none";
            clearInterval(yachtCountdown);
        }

        function startCountdown(elementId, seconds) {
            const element = document.getElementById(elementId);
            let timeLeft = seconds;
            const countdown = setInterval(() => {
                const minutes = Math.floor(timeLeft / 60);
                const secs = timeLeft % 60;
                element.textContent = `${minutes}:${secs < 10 ? '0' : ''}${secs}`;
                timeLeft--;
                if (timeLeft < 0) {
                    clearInterval(countdown);
                    element.textContent = "Expired";
                    setTimeout(() => {
                        document.getElementById("payment-modal").style.display = "none";
                        document.getElementById("booking-modal").style.display = "none";
                    }, 2000);
                }
            }, 1000);
            if (elementId === "jetski-countdown-timer") jetskiCountdown = countdown;
            else yachtCountdown = countdown;
        }

        function submitJetskiBooking() {
            const datetime = document.getElementById("jetski-datetime").value;
            const hours = document.getElementById("jetski-price").textContent.match(/(\d+) hour/)[1];
            emailjs.send("service_hhklds7", "template_5gbcgc5", {
                service: "Jetski",
                datetime: datetime,
                hours: hours,
                total: 150 * hours
            }).then(() => {
                alert("Booking submitted! You'll receive a confirmation email within 24 hours.");
                closePaymentModal();
            }, () => {
                alert("Failed to submit booking. Please try again or call 305-797-8114.");
            });
        }

        function submitYachtBooking() {
            const details = document.getElementById("booking-details").textContent;
            closeBookingModal();
            // Pre-fill the contact form with booking details
            const form = document.getElementById("contact-form");
            form.querySelector("textarea[name='message']").value = details;
            // Scroll to the contact section
            document.getElementById("contact").scrollIntoView({ behavior: "smooth" });
        }

        function openTermsModal() {
            document.getElementById("terms-modal").style.display = "flex";
        }

        function closeTermsModal() {
            document.getElementById("terms-modal").style.display = "none";
        }

        // Reviews carousel
        let currentReviewIndex = 0;
        const reviewCards = document.querySelectorAll('.review-card');
        const totalReviews = reviewCards.length;

        function moveCarousel(direction) {
            const container = document.getElementById("reviews-container");
            const cardWidth = reviewCards[0].offsetWidth + 20; // Include padding
            currentReviewIndex = (currentReviewIndex + direction + totalReviews) % totalReviews;
            container.style.transform = `translateX(-${currentReviewIndex * cardWidth}px)`;
        }

        // Auto-advance carousel
        setInterval(() => {
            if (window.innerWidth >= 640) moveCarousel(1);
        }, 5000);

        // FAQ toggle
        document.querySelectorAll('.faq-item').forEach(item => {
            item.addEventListener('click', () => {
                item.classList.toggle('active');
            });
        });

        // Form submission with EmailJS
        document.getElementById("contact-form").addEventListener("submit", function(event) {
            event.preventDefault();
            const form = event.target;
            const name = form.querySelector("input[name='name']").value.trim();
            const email = form.querySelector("input[name='email']").value.trim();
            const message = form.querySelector("textarea[name='message']").value.trim();
            const subject = form.querySelector("input[name='_subject']").value;

            // Validate form inputs
            if (!name || !email || !message) {
                alert("Please fill out all required fields.");
                return;
            }

            // Log the data being sent for debugging
            console.log("Sending inquiry with:", { name, email, message, subject });

            // Send inquiry email to your Gmail
            emailjs.send("service_hhklds7", "template_inquiry", {
                name: name,
                email: email,
                message: message,
                subject: subject
            }).then((response) => {
                console.log("Inquiry email sent successfully:", response.status, response.text);
                // Send auto-response to the user
                return emailjs.send("service_hhklds7", "template_autoresponse", {
                    name: name,
                    email: email,
                    message: message
                }).catch(error => {
                    console.error("Failed to send auto-response:", error);
                    // Log the error but proceed to show confirmation
                    return Promise.resolve();
                });
            }).then(() => {
                console.log("Form submission completed");
                // Show confirmation message
                const confirmation = document.getElementById("form-confirmation");
                confirmation.classList.remove("hidden");
                form.reset();
                setTimeout(() => {
                    confirmation.classList.add("hidden");
                }, 5000);
            }).catch(error => {
                console.error("EmailJS Error:", error);
                let errorMessage = "There was an issue submitting your inquiry. Please try again or call 305-797-8114.";
                if (error.text && error.text.includes("429")) {
                    errorMessage = "EmailJS rate limit exceeded. Please wait and try again later, or call 305-797-8114.";
                } else if (error.text && error.text.includes("401")) {
                    errorMessage = "Invalid EmailJS credentials. Please check your Service ID, Template ID, or Public Key, or call 305-797-8114.";
                }
                alert(errorMessage);
            });
        });

        // Chatbot functionality
        function toggleChatbot() {
            const chatbot = document.getElementById("chatbot-container");
            const toggleBtn = document.getElementById("chatbot-toggle");
            chatbot.style.display = chatbot.style.display === "none" || !chatbot.style.display ? "flex" : "none";
            toggleBtn.style.display = chatbot.style.display === "none" ? "flex" : "none";
            if (chatbot.style.display === "flex" && !document.querySelector(".bot-message")) {
                addBotMessage("Hello! How can I assist you today?");
            }
        }

        function exitChatbot() {
            const chatbot = document.getElementById("chatbot-container");
            const toggleBtn = document.getElementById("chatbot-toggle");
            chatbot.style.display = "none";
            toggleBtn.style.display = "flex";
            document.getElementById("chatbot-messages").innerHTML = "";
            document.getElementById("chatbot-input").value = "";
        }

        function addBotMessage(message) {
            const messages = document.getElementById("chatbot-messages");
            const msgDiv = document.createElement("div");
            msgDiv.classList.add("chatbot-message", "bot-message");
            msgDiv.textContent = message;
            messages.appendChild(msgDiv);
            messages.scrollTop = messages.scrollHeight;
        }

        function addUserMessage(message) {
            const messages = document.getElementById("chatbot-messages");
            const msgDiv = document.createElement("div");
            msgDiv.classList.add("chatbot-message", "user-message");
            msgDiv.textContent = message;
            messages.appendChild(msgDiv);
            messages.scrollTop = messages.scrollHeight;
        }

        function sendMessage() {
            const input = document.getElementById("chatbot-input");
            const message = input.value.trim();
            if (!message) return;
            addUserMessage(message);
            input.value = "";
            setTimeout(() => {
                let response = "For more details, please call or text 305-797-8114.";
                if (message.toLowerCase().includes("jetski")) {
                    response = "Our jetski rentals are $150/hour, including fuel and safety gear. Would you like to book one?";
                } else if (message.toLowerCase().includes("yacht")) {
                    response = "We offer small yachts (20+ ft) and luxury yachts (50+ ft). Pricing is available upon request. Would you like to book one?";
                } else if (message.toLowerCase().includes("book")) {
                    response = "You can book directly on our website under the 'Book Now' section, or call 305-797-8114 to reserve.";
                }
                addBotMessage(response);
            }, 1000);
        }

        // Active viewers counter
        let activeViewers = 0;
        const viewersElement = document.getElementById("active-viewers");

        function updateActiveViewers() {
            activeViewers = Math.floor(Math.random() * 5) + 1;
            viewersElement.textContent = `${activeViewers} viewing now`;
            viewersElement.classList.remove("hidden");
            setTimeout(() => {
                viewersElement.classList.add("hidden");
            }, 5000);
        }

        setInterval(updateActiveViewers, 15000);
        updateActiveViewers();
    </script>
</body>
</html>