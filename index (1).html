<script type="text/javascript">
        var gk_isXlsx = false;
        var gk_xlsxFileLookup = {};
        var gk_fileData = {};
        function filledCell(cell) {
          return cell !== '' && cell != null;
        }
        function loadFileData(filename) {
        if (gk_isXlsx && gk_xlsxFileLookup[filename]) {
            try {
                var workbook = XLSX.read(gk_fileData[filename], { type: 'base64' });
                var firstSheetName = workbook.SheetNames[0];
                var worksheet = workbook.Sheets[firstSheetName];

                // Convert sheet to JSON to filter blank rows
                var jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1, blankrows: false, defval: '' });
                // Filter out blank rows (rows where all cells are empty, null, or undefined)
                var filteredData = jsonData.filter(row => row.some(filledCell));

                // Heuristic to find the header row by ignoring rows with fewer filled cells than the next row
                var headerRowIndex = filteredData.findIndex((row, index) =>
                  row.filter(filledCell).length >= filteredData[index + 1]?.filter(filledCell).length
                );
                // Fallback
                if (headerRowIndex === -1 || headerRowIndex > 25) {
                  headerRowIndex = 0;
                }

                // Convert filtered JSON back to CSV
                var csv = XLSX.utils.aoa_to_sheet(filteredData.slice(headerRowIndex)); // Create a new sheet from filtered array of arrays
                csv = XLSX.utils.sheet_to_csv(csv, { header: 1 });
                return csv;
            } catch (e) {
                console.error(e);
                return "";
            }
        }
        return gk_fileData[filename] || "";
        }
        </script><!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Flawless Watersports: Luxury jetski and yacht rentals in Miami. Book online for a premium experience!">
    <meta name="keywords" content="jetski rental, yacht charter, Flawless Watersports, Miami water sports, luxury">
    <title>Flawless Watersports | Luxury Jet Ski & Yacht Rentals in Miami</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <style>
        :root {
            --aqua-blue: #00C4B4;
            --sunny-yellow: #FFD700;
            --coral-red: #FF6B6B;
            --dark-gray: #1F2937;
        }
        .bg-aqua-blue { background-color: var(--aqua-blue); }
        .text-aqua-blue { color: var(--aqua-blue); }
        .bg-sunny-yellow { background-color: var(--sunny-yellow); }
        .text-sunny-yellow { color: var(--sunny-yellow); }
        .bg-coral-red { background-color: var(--coral-red); }
        .text-coral-red { color: var(--coral-red); }
        .bg-dark-gray { background-color: var(--dark-gray); }
        .text-dark-gray { color: var(--dark-gray); }
        .book-now-btn, .contact-btn, .view-yachts-btn {
            transition: transform 0.2s, background-color 0.3s;
            font-weight: bold;
        }
        .book-now-btn:hover, .contact-btn:hover, .view-yachts-btn:hover {
            transform: scale(1.05);
            background-color: var(--coral-red);
            color: white;
        }
        .gallery-img {
            transition: transform 0.3s;
            object-fit: cover;
            width: 100%;
            height: 200px;
        }
        .gallery-img:hover {
            transform: scale(1.03);
        }
        #active-viewers {
            position: fixed;
            bottom: 80px;
            right: 20px;
            background-color: var(--coral-red);
            color: white;
            padding: 10px 20px;
            border-radius: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            font-size: 0.9rem;
            z-index: 50;
        }
        .hero-bg {
            background-image: url('https://images.unsplash.com/photo-1585554497942-a6e7fd86eace?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&h=600');
            background-size: cover;
            background-position: center;
            background-blend-mode: overlay;
            background-color: rgba(0, 0, 0, 0.5);
        }
        .flatpickr-input {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #e5e7eb;
            border-radius: 0.5rem;
            background-color: white;
        }
        #chatbot-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 300px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            display: none;
            flex-direction: column;
            z-index: 100;
        }
        #chatbot-header {
            background-color: var(--aqua-blue);
            color: white;
            padding: 12px;
            border-radius: 12px 12px 0 0;
            font-weight: bold;
            text-align: center;
        }
        #chatbot-messages {
            flex-grow: 1;
            padding: 12px;
            overflow-y: auto;
            max-height: 300px;
        }
        #chatbot-input {
            width: 100%;
            padding: 12px;
            border: none;
            border-top: 1px solid #e5e7eb;
            border-radius: 0 0 12px 12px;
            outline: none;
        }
        #chatbot-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: var(--coral-red);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            z-index: 100;
        }
        .chatbot-message {
            margin-bottom: 10px;
            padding: 8px 12px;
            border-radius: 8px;
        }
        .user-message {
            background-color: var(--sunny-yellow);
            margin-left: 20%;
            text-align: right;
        }
        .bot-message {
            background-color: var(--aqua-blue);
            color: white;
            margin-right: 20%;
        }
        #yacht-modal, #payment-modal, #booking-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 100;
            align-items: center;
            justify-content: center;
        }
        #yacht-modal-content, #payment-modal-content, #booking-modal-content {
            background-color: white;
            border-radius: 12px;
            max-width: 800px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            padding: 20px;
        }
        .yacht-card {
            transition: transform 0.2s;
        }
        .yacht-card:hover {
            transform: scale(1.02);
        }
        #countdown-timer {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--coral-red);
        }
    </style>
</head>
<body class="bg-white font-sans">
    <!-- Header -->
    <header class="bg-dark-gray text-white py-4 sticky top-0 z-10">
        <div class="container mx-auto px-4 flex justify-between items-center">
            <h1 class="text-2xl font-bold">Flawless Watersports</h1>
            <nav>
                <ul class="flex space-x-6">
                    <li><a href="#home" class="hover:text-aqua-blue">Home</a></li>
                    <li><a href="#book" class="hover:text-aqua-blue">Book Now</a></li>
                    <li><a href="#fleet" class="hover:text-aqua-blue">Fleet</a></li>
                    <li><a href="#partner" class="hover:text-aqua-blue">Partner</a></li>
                    <li><a href="#contact" class="hover:text-aqua-blue">Contact</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section id="home" class="hero-bg py-24 text-center text-white">
        <div class="container mx-auto px-4">
            <h2 class="text-5xl font-bold mb-4">Unleash Luxury with Flawless Watersports</h2>
            <p class="text-xl mb-6 max-w-2xl mx-auto">
                Experience Miami’s waters in unparalleled style with our premium jetski and yacht rentals. Book your adventure today for a bespoke luxury escape.
            </p>
            <div class="flex justify-center space-x-4">
                <a href="#book" class="bg-sunny-yellow text-dark-gray px-8 py-4 rounded-lg text-lg font-bold hover:bg-coral-red hover:text-white">Book Now</a>
                <a href="tel:3057978114" class="contact-btn bg-aqua-blue text-white px-8 py-4 rounded-lg text-lg font-bold">Call or Text Us</a>
            </div>
        </div>
    </section>

    <!-- Booking Section -->
    <section id="book" class="py-16 bg-gray-100">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold text-center text-dark-gray mb-8">Reserve Your Luxury Experience</h2>
            <p class="text-center text-dark-gray mb-6 max-w-2xl mx-auto">
                Select your preferred date and time for a seamless booking. Jetskis operate 8:00 AM–7:00 PM (sundown). Yachts are available 8:00 AM–10:00 PM. Choose from our diverse fleet of small yachts (20+ ft) and luxury yachts (50+ ft), with pricing tailored to your selected vessel. All prices include our commission, with vessel owners receiving their portion.
            </p>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto">
                <div class="p-6 bg-white rounded-lg shadow-lg text-center border-2 border-aqua-blue">
                    <h3 class="text-xl font-bold text-aqua-blue mb-2">Jetski</h3>
                    <p class="text-dark-gray mb-2">$150/hr</p>
                    <input type="text" id="jetski-datetime" placeholder="Select Date & Time" class="mb-4 flatpickr-input">
                    <p id="jetski-price" class="text-dark-gray mb-4">Total: $150 for 1 hour</p>
                    <button onclick="openPaymentModal('Jetski', 'jetski-datetime')" class="book-now-btn bg-sunny-yellow text-dark-gray px-6 py-3 rounded-lg w-full">Book Now</button>
                </div>
                <div class="p-6 bg-white rounded-lg shadow-lg text-center border-2 border-aqua-blue">
                    <h3 class="text-xl font-bold text-aqua-blue mb-2">Small Yacht (20+ ft)</h3>
                    <p class="text-dark-gray mb-2">Contact us for pricing</p>
                    <input type="text" id="small-yacht-datetime" placeholder="Select Date & Time" class="mb-4 flatpickr-input">
                    <p id="small-yacht-price" class="text-dark-gray mb-4">Contact us for pricing</p>
                    <button onclick="openYachtModal('small')" class="view-yachts-btn bg-aqua-blue text-white px-6 py-3 rounded-lg w-full mb-2">View Yachts</button>
                    <button onclick="bookYacht('Small Yacht', 'small-yacht-datetime')" class="book-now-btn bg-sunny-yellow text-dark-gray px-6 py-3 rounded-lg w-full">Book Now</button>
                </div>
                <div class="p-6 bg-white rounded-lg shadow-lg text-center border-2 border-aqua-blue">
                    <h3 class="text-xl font-bold text-aqua-blue mb-2">Luxury Yacht (50+ ft)</h3>
                    <p class="text-dark-gray mb-2">Contact us for pricing</p>
                    <input type="text" id="luxury-yacht-datetime" placeholder="Select Date & Time" class="mb-4 flatpickr-input">
                    <p id="luxury-yacht-price" class="text-dark-gray mb-4">Contact us for pricing</p>
                    <button onclick="openYachtModal('luxury')" class="view-yachts-btn bg-aqua-blue text-white px-6 py-3 rounded-lg w-full mb-2">View Yachts</button>
                    <button onclick="bookYacht('Luxury Yacht', 'luxury-yacht-datetime')" class="book-now-btn bg-sunny-yellow text-dark-gray px-6 py-3 rounded-lg w-full">Book Now</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Yacht Selection Modal -->
    <div id="yacht-modal">
        <div id="yacht-modal-content">
            <h2 id="modal-title" class="text-2xl font-bold text-dark-gray mb-4"></h2>
            <div id="yacht-list" class="grid grid-cols-1 sm:grid-cols-2 gap-4"></div>
            <button onclick="closeYachtModal()" class="mt-4 bg-coral-red text-white px-6 py-3 rounded-lg w-full">Close</button>
        </div>
    </div>

    <!-- Payment Modal for Jetski -->
    <div id="payment-modal">
        <div id="payment-modal-content">
            <h2 class="text-2xl font-bold text-dark-gray mb-4">Complete Your Jetski Booking</h2>
            <p class="text-dark-gray mb-4">Send $150 via one of the methods below to confirm your booking. Include your booking date/time in the payment memo. We’ll contact you to finalize.</p>
            <ul class="text-dark-gray mb-4">
                <li><strong>Zelle</strong>: flawlesswatersports@gmail.com or 305-797-8114</li>
                <li><strong>CashApp</strong>: $FlawlessWatersports</li>
                <li><strong>PayPal</strong>: <a href="https://paypal.me/flawlesswatersports?amount=150" target="_blank" class="underline text-aqua-blue">Pay $150 now</a></li>
            </ul>
            <button onclick="submitJetskiBooking()" class="bg-sunny-yellow text-dark-gray px-6 py-3 rounded-lg w-full mb-2 hover:bg-coral-red hover:text-white">I’ve Sent Payment</button>
            <button onclick="closePaymentModal()" class="bg-coral-red text-white px-6 py-3 rounded-lg w-full">Cancel</button>
        </div>
    </div>

    <!-- Booking Modal for Yachts with Countdown -->
    <div id="booking-modal">
        <div id="booking-modal-content">
            <h2 class="text-2xl font-bold text-dark-gray mb-4">Confirm Your Yacht Booking</h2>
            <p id="booking-details" class="text-dark-gray mb-4"></p>
            <p class="text-dark-gray mb-4">Hurry! Your booking slot is reserved for: <span id="countdown-timer">5:00</span></p>
            <button onclick="submitYachtBooking()" class="bg-sunny-yellow text-dark-gray px-6 py-3 rounded-lg w-full mb-2 hover:bg-coral-red hover:text-white">Submit to Reserve</button>
            <button onclick="closeBookingModal()" class="bg-coral-red text-white px-6 py-3 rounded-lg w-full">Cancel</button>
        </div>
    </div>

    <!-- Fleet Section -->
    <section id="fleet" class="py-16 bg-aqua-blue">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold text-center text-white mb-8">Our Premier Fleet</h2>
            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 max-w-5xl mx-auto">
                <img src="https://images.unsplash.com/photo-1605289769178-4b937b1903b3?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=200" alt="Jetski in Action" class="gallery-img rounded-lg shadow-md">
                <img src="https://images.unsplash.com/photo-1567899378494-47b22a2ae96a?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=200" alt="Small Yacht" class="gallery-img rounded-lg shadow-md">
                <img src="https://images.unsplash.com/photo-1585554497942-a6e7fd86eace?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=200" alt="Luxury Yacht" class="gallery-img rounded-lg shadow-md">
                <img src="https://images.unsplash.com/photo-1624544196719-b73f90c6f0bb?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=200" alt="Jetski Wave" class="gallery-img rounded-lg shadow-md">
                <img src="https://images.unsplash.com/photo-1598972898439-2d5cd4f3c7a8?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=200" alt="Yacht Sunset" class="gallery-img rounded-lg shadow-md">
                <img src="https://images.unsplash.com/photo-1605289769178-4b937b1903b3?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=200" alt="Jetski Jump" class="gallery-img rounded-lg shadow-md">
            </div>
            <p class="text-center text-white mt-4">Explore our fleet on <a href="https://www.instagram.com/flawlesswatersports" class="underline">@flawlesswatersports</a>. Replace these images by uploading your own.</p>
        </div>
    </section>

    <!-- Partner Section -->
    <section id="partner" class="py-16 bg-gray-100">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold text-center text-dark-gray mb-8">Join Our Premier Network</h2>
            <p class="text-center text-dark-gray mb-6 max-w-2xl mx-auto">
                Own a jetski or yacht? Partner with Flawless Watersports to showcase your vessel to luxury-seeking clients. We provide expert marketing, streamlined booking management, and access to Miami’s elite clientele. Share your availability, and we’ll handle the rest, paying you via your preferred method (Zelle, CashApp, etc.) after each booking.
            </p>
            <div class="flex justify-center space-x-4">
                <a href="#contact" class="bg-sunny-yellow text-dark-gray px-8 py-4 rounded-lg text-lg font-bold hover:bg-coral-red hover:text-white">Contact Us</a>
                <a href="tel:3057978114" class="contact-btn bg-aqua-blue text-white px-8 py-4 rounded-lg text-lg font-bold">Call or Text Us</a>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="py-16 bg-gray-100">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold text-center text-dark-gray mb-8">Connect with Us</h2>
            <p class="text-center text-dark-gray mb-6">Questions or partnership inquiries? Call or text us at 305-797-8114, or submit below. We’ll respond promptly via flawlesswatersports@gmail.com.</p>
            <form action="https://formspree.io/f/your-formspree-id" method="POST" class="max-w-lg mx-auto space-y-4">
                <input type="text" name="name" placeholder="Your Name" class="w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-aqua-blue" required>
                <input type="email" name="email" placeholder="Your Email" class="w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-aqua-blue" required>
                <textarea name="message" placeholder="Your Message" rows="5" class="w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-aqua-blue" required></textarea>
                <button type="submit" class="bg-sunny-yellow text-dark-gray px-6 py-3 rounded-lg w-full font-bold hover:bg-coral-red hover:text-white">Send Inquiry</button>
            </form>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-dark-gray text-white py-6">
        <div class="container mx-auto px-4 text-center">
            <p>© 2025 Flawless Watersports. All rights reserved.</p>
            <p class="mt-2">Contact us: <a href="mailto:flawlesswatersports@gmail.com" class="underline">flawlesswatersports@gmail.com</a> | <a href="tel:3057978114" class="underline">305-797-8114</a> | <a href="sms:3057978114" class="underline">Text Us</a></p>
        </div>
    </footer>

    <!-- Active Viewers Tab -->
    <div id="active-viewers">5 Active Viewers</div>

    <!-- Chatbot -->
    <div id="chatbot-toggle">💬</div>
    <div id="chatbot-container">
        <div id="chatbot-header">AI for Flawless Watersports</div>
        <div id="chatbot-messages"></div>
        <input type="text" id="chatbot-input" placeholder="Ask about our services...">
    </div>

    <script>
        // Initialize Flatpickr
        flatpickr("#jetski-datetime", {
            enableTime: true,
            dateFormat: "Y-m-d H:i",
            minDate: "today",
            maxDate: new Date().fp_incr(30),
            minTime: "08:00",
            maxTime: "19:00",
            time_24hr: false,
            disable: ["2025-05-05", "2025-05-12"],
            onChange: function(selectedDates, dateStr, instance) {
                updatePrice('jetski-price', 150, selectedDates);
            }
        });

        flatpickr("#small-yacht-datetime", {
            enableTime: true,
            dateFormat: "Y-m-d H:i",
            minDate: "today",
            maxDate: new Date().fp_incr(30),
            minTime: "08:00",
            maxTime: "22:00",
            time_24hr: false,
            disable: ["2025-05-06", "2025-05-13"],
            onChange: function(selectedDates, dateStr, instance) {
                document.getElementById('small-yacht-price').textContent = 'Contact us for pricing';
            }
        });

        flatpickr("#luxury-yacht-datetime", {
            enableTime: true,
            dateFormat: "Y-m-d H:i",
            minDate: "today",
            maxDate: new Date().fp_incr(30),
            minTime: "08:00",
            maxTime: "22:00",
            time_24hr: false,
            disable: ["2025-05-07", "2025-05-14"],
            onChange: function(selectedDates, dateStr, instance) {
                document.getElementById('luxury-yacht-price').textContent = 'Contact us for pricing';
            }
        });

        // Update price display
        function updatePrice(elementId, pricePerHour, selectedDates) {
            if (selectedDates.length > 0) {
                document.getElementById(elementId).textContent = `Total: $${pricePerHour} for 1 hour`;
            }
        }

        // Payment modal for jetski
        let jetskiBookingDetails = { type: '', datetime: '' };
        function openPaymentModal(type, datetimeId) {
            const datetimeInput = document.getElementById(datetimeId).value;
            if (!datetimeInput) {
                alert('Please select a date and time.');
                return;
            }
            jetskiBookingDetails = { type, datetime: datetimeInput };
            document.getElementById('payment-modal').style.display = 'flex';
        }

        function closePaymentModal() {
            document.getElementById('payment-modal').style.display = 'none';
        }

        function submitJetskiBooking() {
            const message = `Jetski booking for ${jetskiBookingDetails.datetime}. Payment sent via Zelle/CashApp/PayPal.`;
            document.querySelector('#contact textarea').value = message;
            document.querySelector('#contact').scrollIntoView({ behavior: 'smooth' });
            closePaymentModal();
        }

        // Yacht booking
        const yachtData = {
            small: [
                { name: 'Aqua Breeze', footage: '25 ft', amenities: 'Sun deck, Bluetooth audio', image: 'https://images.unsplash.com/photo-1567899378494-47b22a2ae96a?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=200' },
                { name: 'Coral Star', footage: '30 ft', amenities: 'Lounge area, mini bar', image: 'https://images.unsplash.com/photo-1598972898439-2d5cd4f3c7a8?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=200' },
                { name: 'Wave Dancer', footage: '35 ft', amenities: 'Fishing gear, shaded cockpit', image: 'https://images.unsplash.com/photo-1567899378494-47b22a2ae96a?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=200' }
            ],
            luxury: [
                { name: 'Majestic Horizon', footage: '55 ft', amenities: 'Jacuzzi, gourmet galley', image: 'https://images.unsplash.com/photo-1585554497942-a6e7fd86eace?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=200' },
                { name: 'Starlight Serenity', footage: '65 ft', amenities: 'Master suite, cinema room', image: 'https://images.unsplash.com/photo-1585554497942-a6e7fd86eace?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=200' },
                { name: 'Ocean Monarch', footage: '80 ft', amenities: 'Spa, water toys', image: 'https://images.unsplash.com/photo-1585554497942-a6e7fd86eace?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=200' }
            ]
        };
        let selectedYacht = { small: null, luxury: null };
        let yachtBookingDetails = { type: '', datetime: '', yachtName: '' };
        let countdownInterval;

        function openYachtModal(type) {
            const modal = document.getElementById('yacht-modal');
            const title = document.getElementById('modal-title');
            const list = document.getElementById('yacht-list');
            title.textContent = type === 'small' ? 'Small Yachts (20+ ft)' : 'Luxury Yachts (50+ ft)';
            list.innerHTML = '';
            yachtData[type].forEach(yacht => {
                const card = document.createElement('div');
                card.className = 'yacht-card p-4 bg-gray-100 rounded-lg';
                card.innerHTML = `
                    <img src="${yacht.image}" alt="${yacht.name}" class="w-full h-32 object-cover rounded-lg mb-2">
                    <h3 class="text-lg font-bold text-dark-gray">${yacht.name}</h3>
                    <p class="text-dark-gray">${yacht.footage}</p>
                    <p class="text-dark-gray mb-2">${yacht.amenities}</p>
                    <button onclick="selectYacht('${type}', '${yacht.name}')" class="bg-sunny-yellow text-dark-gray px-4 py-2 rounded-lg w-full hover:bg-coral-red hover:text-white">Select</button>
                `;
                list.appendChild(card);
            });
            modal.style.display = 'flex';
        }

        function selectYacht(type, name) {
            selectedYacht[type] = yachtData[type].find(y => y.name === name);
            console.log(`Selected yacht: ${name} for ${type}`); // Debug log
            alert(`Selected ${name} for ${type} yacht booking.`);
            closeYachtModal();
        }

        function closeYachtModal() {
            document.getElementById('yacht-modal').style.display = 'none';
        }

        function bookYacht(type, datetimeId) {
            const datetimeInput = document.getElementById(datetimeId).value;
            if (!datetimeInput) {
                alert('Please select a date and time.');
                return;
            }
            const normalizedType = type.toLowerCase().includes('small') ? 'small' : 'luxury';
            if (!selectedYacht[normalizedType]) {
                alert('Please select a yacht from the View Yachts menu.');
                return;
            }
            yachtBookingDetails = {
                type: type,
                datetime: datetimeInput,
                yachtName: selectedYacht[normalizedType].name
            };
            openBookingModal();
        }

        function openBookingModal() {
            const modal = document.getElementById('booking-modal');
            const details = document.getElementById('booking-details');
            details.textContent = `Booking ${yachtBookingDetails.type}: ${yachtBookingDetails.yachtName} on ${yachtBookingDetails.datetime}. Submit the form or contact us at 305-797-8114 to reserve.`;
            startCountdown();
            modal.style.display = 'flex';
        }

        function closeBookingModal() {
            clearInterval(countdownInterval);
            document.getElementById('booking-modal').style.display = 'none';
        }

        function startCountdown() {
            let timeLeft = 5 * 60; // 5 minutes in seconds
            const timerElement = document.getElementById('countdown-timer');
            countdownInterval = setInterval(() => {
                const minutes = Math.floor(timeLeft / 60);
                const seconds = timeLeft % 60;
                timerElement.textContent = `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
                timeLeft--;
                if (timeLeft < 0) {
                    clearInterval(countdownInterval);
                    alert('Time expired! Please restart your booking.');
                    closeBookingModal();
                    selectedYacht = { small: null, luxury: null }; // Reset selection
                }
            }, 1000);
        }

        function submitYachtBooking() {
            const message = `Interested in booking ${yachtBookingDetails.type}: ${yachtBookingDetails.yachtName} on ${yachtBookingDetails.datetime}. Please provide pricing and confirm availability.`;
            document.querySelector('#contact textarea').value = message;
            document.querySelector('#contact').scrollIntoView({ behavior: 'smooth' });
            clearInterval(countdownInterval);
            closeBookingModal();
        }

        // Payment modal for jetski
        function openPaymentModal(type, datetimeId) {
            const datetimeInput = document.getElementById(datetimeId).value;
            if (!datetimeInput) {
                alert('Please select a date and time.');
                return;
            }
            jetskiBookingDetails = { type, datetime: datetimeInput };
            document.getElementById('payment-modal').style.display = 'flex';
        }

        function closePaymentModal() {
            document.getElementById('payment-modal').style.display = 'none';
        }

        function submitJetskiBooking() {
            const message = `Jetski booking for ${jetskiBookingDetails.datetime}. Payment sent via Zelle/CashApp/PayPal.`;
            document.querySelector('#contact textarea').value = message;
            document.querySelector('#contact').scrollIntoView({ behavior: 'smooth' });
            closePaymentModal();
        }

        // Chatbot
        const chatbotContainer = document.getElementById('chatbot-container');
        const chatbotMessages = document.getElementById('chatbot-messages');
        const chatbotInput = document.getElementById('chatbot-input');
        const chatbotToggle = document.getElementById('chatbot-toggle');

        chatbotToggle.addEventListener('click', () => {
            chatbotContainer.style.display = chatbotContainer.style.display === 'none' ? 'flex' : 'none';
        });

        chatbotInput.addEventListener('keypress', async (e) => {
            if (e.key === 'Enter' && chatbotInput.value.trim()) {
                const userMessage = chatbotInput.value.trim();
                addMessage(userMessage, 'user');
                chatbotInput.value = '';
                const botResponse = await getBotResponse(userMessage);
                addMessage(botResponse, 'bot');
            }
        });

        function addMessage(text, sender) {
            const message = document.createElement('div');
            message.className = `chatbot-message ${sender}-message`;
            message.textContent = text;
            chatbotMessages.appendChild(message);
            chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
        }

        async function getBotResponse(message) {
            const responses = {
                'what do you offer': 'Flawless Watersports offers luxury jetski rentals at $150/hr (8:00 AM–7:00 PM) and a diverse fleet of small yachts (20+ ft) and luxury yachts (50+ ft) in Miami. Pay for jetskis via Zelle, CashApp, or PayPal to flawlesswatersports@gmail.com or 305-797-8114. Contact us for yacht pricing.',
                'jetski hours': 'Jetskis are available from 8:00 AM to 7:00 PM daily, respecting sundown restrictions.',
                'yacht hours': 'Yachts (small and luxury) are available from 8:00 AM to 10:00 PM daily.',
                'how to book': 'For jetskis, select a date/time, send $150 via Zelle, CashApp, or PayPal to flawlesswatersports@gmail.com or 305-797-8114, and submit the form. For yachts, select a vessel, choose a date/time, and confirm within 5 minutes to reserve your slot. Submit the form or contact 305-797-8114 for pricing and payment (Zelle, CashApp, PayPal, Venmo, or cash).',
                'partnership': 'Own a jetski or yacht? Partner with us to showcase your vessel to luxury clients. We handle marketing and bookings, paying you via your preferred method (Zelle, CashApp, etc.). Call 305-797-8114 or submit a contact form.',
                'contact': 'Reach us at 305-797-8114 (call/text) or flawlesswatersports@gmail.com. Use the contact form on our website.'
            };
            const lowerMessage = message.toLowerCase();
            for (const key in responses) {
                if (lowerMessage.includes(key)) {
                    return responses[key];
                }
            }
            try {
                return 'I’m AI for Flawless Watersports. Ask about our jetski/yacht rentals, booking process, hours, partnerships, or contact info!';
            } catch (error) {
                return 'Sorry, I’m having trouble. Please call 305-797-8114 or email flawlesswatersports@gmail.com.';
            }
        }

        // Smooth scrolling
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });

        // Active viewers
        function updateActiveViewers() {
            const viewers = Math.floor(Math.random() * 16) + 5;
            document.getElementById('active-viewers').textContent = `${viewers} Active Viewers`;
        }
        updateActiveViewers();
        setInterval(updateActiveViewers, 10000);
    </script>
</body>
</html>